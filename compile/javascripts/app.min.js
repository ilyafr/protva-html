jQuery(function(a){if(window.appHasel=window.appHasel||{},appHasel.houses=window.document.getElementById("hses"),document.getElementById("gmap")){var b={office:[55.087925,36.655127],centerpoint:[55.0486832,36.731031],object:[55.0266832,36.731031]},c=new google.maps.LatLng(b.office[0],b.office[1]),d=new google.maps.LatLng(b.centerpoint[0],b.centerpoint[1]),e=new google.maps.LatLng(b.object[0],b.object[1]),f=[{featureType:"all",elementType:"all",stylers:[{saturation:10}]}],g={scrollwheel:!1,zoomControl:!0,panControl:!1,mapTypeControl:!1,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,position:google.maps.ControlPosition.RIGHT_CENTER},zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_CENTER},zoom:12,center:d,mapTypeIds:[google.maps.MapTypeId.ROADMAP,"tehgrayz"]},h=new google.maps.Map(document.getElementById("gmap"),g),i=new google.maps.StyledMapType(f,{name:"Grayscale"});h.mapTypes.set("tehgrayz",i),h.setMapTypeId("tehgrayz");var j="<p><strong>Отдел продаж<br />Жилого квартала «Протва Центр»</strong></p><p>Россия, Калужская область,<br />г. Белоусово, Калужское шоссе, д. 12/3</p><p><span>Телефон:</span><br />+7 (48439) 5-06-08,<br />+7 (910) 917-20-50</p>",k='<p><strong>Жилой квартал «Протва Центр»</strong><br />Россия, Калужская область, г. Жуков</p><p class="gb">Телефон:<br />+7 (48439) 5-06-08,<br />+7 (910) 917-20-50<br />Сайт: <a href="http://protva-centr.ru" target="_blank">protva-centr.ru</a></p>',l=new google.maps.InfoWindow({content:j}),m=new google.maps.InfoWindow({content:k}),n=new google.maps.Marker({position:c,map:h,title:"Отдел продаж жилого квартала «Протва Центр»",icon:"/images/map-icons/office.png"}),o=new google.maps.Marker({position:e,map:h,title:"Жилой квартал «Протва Центр»",icon:"/images/map-icons/object.png"});google.maps.event.addListener(n,"click",function(){var a=new google.maps.LatLng(b.office[0],b.office[1]);h.panTo(a),l.open(h,n),m.close(h,o)}),google.maps.event.addListener(o,"click",function(){var a=new google.maps.LatLng(b.object[0],b.object[1]);h.panTo(a),m.open(h,o),l.close(h,n)}),m.open(h,o)}!function(){var b=a(".fotorama");if(b.size()){var c=jQuery(".fotorama_custom").fotorama(),d=c.data("fotorama");a('<div class="fotorama_custom__arr fotorama_custom__arr--prev"><i class="icons icons-prev"></i></div>').insertBefore(".fotorama__nav"),a('<div class="fotorama_custom__arr fotorama_custom__arr--next"><i class="icons icons-next"></i></div>').insertAfter(".fotorama__nav"),a(".fotorama_custom__arr--prev").click(function(){d.show("<")}),a(".fotorama_custom__arr--next").click(function(){d.show(">")})}}(),function(){a('[data-toggle="tooltip"]').tooltip()}(),function(){appHasel.layzr=new Layzr}(),jQuery.expr[":"].parents=function(a,b,c){return jQuery(a).parents(c[3]).length<1},appHasel=function(b){function c(b){var c=3*i;J||j.animate({scrollTop:a("#"+b).offset().top},c)}function d(b){setTimeout(function(){m.load(b+" #ajax-replaced-bottom"),l.load(b+" #ajax-replaced-top",function(){a("#hses").removeClass("loader"),appHasel.layzr=new Layzr,e(),appHasel.hseHilight(),appHasel.floHilight(),w.filter(".active").trigger("check"),c(w.filter(".active").data("sclto"))})},2e3)}function e(){g=a("#sclto-hse"),h=a("#sclto-apt"),l=a("#ajax-replaced-top"),m=a("#ajax-replaced-bottom"),k=a("#hses"),n=a(".js-houses-scheme"),o=a(".js-houses__num"),p=n.find(".js-houses__img:eq(0)"),q=n.find(".js-houses__map:eq(0)"),r=n.find(".js-houses__area"),s=a(".js-floors-scheme"),t=s.find(".js-floors__img"),u=s.find(".js-floors__map:eq(0)"),v=s.find(".js-floors__area"),w=v.add(r),x=a(".js-floors-direct__num"),y=a(".js-floor-info__scheme"),z=a(".js-floor-info__pdf"),A=a("#hse-num"),B=a("#hse-num2"),C=a("#bld-phs"),D=a(".house-info__apartment-num"),E=a("#flo-num"),G=a("#apt-ttl"),F=a("#apt-num"),H=a("#floors-scheme"),I=H.find(">.floors-scheme__item")}var f=(a(window),a(document)),g=a(),h=a(),i=400,j=a("html, body"),k=a(),l=a(),m=a(),n=a(),o=a(),p=a(),q=a(),r=a(),s=a(),t=a(),u=a(),v=a(),w=a(),x=a(),y=a(),z=a(),A=a(),B=a(),C=a(),D=a(),E=a(),F=a(),G=a(),H=a(),I=a(),J=!1;return{init:function(b){J=!0,e(),appHasel.hseHilight(),appHasel.floHilight(),f.on("click",".js-floors__area,.js-houses__area,.house-info__apartment-num,.js-floors-direct__num",function(b){b.preventDefault();var e=a(b.target),f=3*i/2;if(dly2=i/2,data_ajx_hse=e.data("ajx-hse"),e.is(".js-floors__area"))v.trigger("uncheck"),B.text(e.data("hse-num2")),E.text(e.data("flo-num")),G.text(e.data("apt-ttl")),F.text(e.data("apt-num")),J||(y.not(".hide").animate({opacity:0},i,function(){a(this).addClass("hide")}),y.filter("#apt-trg-"+e.data("apt-trg")).stop().removeClass("hide").css({opacity:0}).animate({opacity:1},i,function(){}),z.attr("href",z.attr("href").replace(/[0-9]/g,e.data("apt-trg")))),e.trigger("check"),c(a(this).data("sclto"));else if(e.is(".js-houses__area"))v.add(r).trigger("uncheck"),J||e.hasClass("active")||(k.addClass("loader"),d(data_ajx_hse));else if(e.is(".house-info__apartment-num")){var g=a(this),h=v.filter(".sale");h.data("maphilight",{fillColor:"9ad283",alwaysOn:g.hasClass("active")?!1:!0}).trigger("alwaysOn.maphilight"),g.toggleClass("active")}else if(e.is(".js-floors-direct__num")||e.parents("a").is(".js-floors-direct__num")){var g=a(this),f=3*i/2;if(dly2=i/2,J=!0,!J||g.hasClass("active"))return!1;x.removeClass("active"),g.addClass("active"),E.text(g.data("flo-num")),I.not(".dnone").animate({opacity:0},f,function(){a(this).addClass("dnone")}),a("#flrs-scm-"+g.data("flrs-scm")).css({opacity:0}).removeClass("dnone").animate({opacity:1},dly2,function(){a(this).removeClass("dnone"),J=!1})}}),w.filter(".active").trigger("click").trigger("check"),x.eq(0).trigger("click"),J=!1},hseHilight:function(){p.maphilight({stroke:!0,strokeColor:"9cff00",strokeWidth:5,fillOpacity:0}),t.maphilight({stroke:!1,fillOpacity:.6,fade:!0})},floHilight:function(){v.trigger("alluncheck");var a=v.filter(".sale"),b=v.filter(".sold"),c=v.filter(".reserv");a.data("maphilight",{fillColor:"9ad283"}),b.data("maphilight",{fillColor:"fb7e7e",alwaysOn:!1}).trigger("alwaysOn.maphilight"),c.data("maphilight",{fillColor:"ffe47f",alwaysOn:!1}).trigger("alwaysOn.maphilight")}}}(appHasel.houses),appHasel.init(),function(){a("form.form-horizontal").validate({errorPlacement:function(a,b){return!0}})}(),function(){a(":input").inputmask()}()});